language: node_js
node_js:
  - 9
  - 8
  - 6
before_install:
  - '[[ $(node -v) =~ ^v6.*$ ]] && npm install -g npm@5 || exit'
  - '[[ $(node -v) =~ ^v7.*$ ]] || [[ $(node -v) =~ ^v8.*$ ]] && npm install -g npm@latest || exit'
  - npm install -g greenkeeper-lockfile
install:
  - npm install
  - npm install -g codecov
before_script:
  - greenkeeper-lockfile-update
script:
  - npm test
  - codecov
after_script:
  - greenkeeper-lockfile-upload
